<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Trade Data Visualization Suite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg-secondary: rgba(255, 255, 255, 0.95);
            --bg-card: rgba(255, 255, 255, 0.85);
            --bg-glass: rgba(255, 255, 255, 0.25);
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a6a;
            --text-muted: #6b7280;
            --accent-primary: #667eea;
            --accent-secondary: #764ba2;
            --border-color: rgba(255, 255, 255, 0.3);
            --shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
            --shadow-hover: 0 12px 40px rgba(31, 38, 135, 0.25);
            --cat-static: #10b981;
            --cat-timeseries: #3b82f6;
            --cat-products: #f59e0b;
            --cat-geographic: #ef4444;
            --cat-animations: #8b5cf6;
            --cat-tools: #06b6d4;
        }
        [data-theme="dark"] {
            --bg-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --bg-secondary: rgba(30, 30, 50, 0.95);
            --bg-card: rgba(40, 40, 70, 0.85);
            --bg-glass: rgba(255, 255, 255, 0.08);
            --text-primary: #f0f0f5;
            --text-secondary: #b0b0c5;
            --text-muted: #8080a0;
            --border-color: rgba(255, 255, 255, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Inter", sans-serif; background: var(--bg-primary); min-height: 100vh; color: var(--text-primary); }
        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; }

        header { background: var(--bg-secondary); backdrop-filter: blur(20px); border-radius: 24px; padding: 2rem; margin-bottom: 2rem; box-shadow: var(--shadow); }
        .header-top { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 1.5rem; }
        h1 { font-size: 2rem; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .theme-toggle { padding: 0.75rem 1.25rem; background: var(--bg-glass); border: 1px solid var(--border-color); border-radius: 12px; cursor: pointer; font-size: 0.9rem; color: var(--text-primary); transition: all 0.3s; }
        .theme-toggle:hover { background: var(--accent-primary); color: white; }

        .context-box { background: var(--bg-glass); padding: 1.5rem; border-radius: 16px; border-left: 4px solid var(--accent-primary); }
        .context-box h3 { color: var(--accent-primary); margin-bottom: 0.5rem; }
        .context-box p { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6; }

        .tabs-container { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem; }
        .tab-btn { padding: 0.75rem 1.25rem; background: var(--bg-secondary); border: none; border-radius: 12px; cursor: pointer; font-size: 0.9rem; color: var(--text-secondary); transition: all 0.3s; }
        .tab-btn:hover, .tab-btn.active { background: var(--accent-primary); color: white; }

        .search-container { margin-bottom: 2rem; }
        .search-input { width: 100%; max-width: 400px; padding: 1rem 1.5rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; font-size: 1rem; color: var(--text-primary); }
        .search-input:focus { outline: none; border-color: var(--accent-primary); }

        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem; }
        .card { background: var(--bg-card); backdrop-filter: blur(20px); border-radius: 20px; overflow: hidden; box-shadow: var(--shadow); transition: all 0.3s; border: 1px solid var(--border-color); }
        .card:hover { transform: translateY(-4px); box-shadow: var(--shadow-hover); }
        .card.hidden { display: none; }
        .card-header { padding: 0.75rem 1.25rem; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .card[data-category="static"] .card-header { background: linear-gradient(135deg, var(--cat-static), #059669); color: white; }
        .card[data-category="timeseries"] .card-header { background: linear-gradient(135deg, var(--cat-timeseries), #1d4ed8); color: white; }
        .card[data-category="products"] .card-header { background: linear-gradient(135deg, var(--cat-products), #d97706); color: white; }
        .card[data-category="geographic"] .card-header { background: linear-gradient(135deg, var(--cat-geographic), #b91c1c); color: white; }
        .card[data-category="animations"] .card-header { background: linear-gradient(135deg, var(--cat-animations), #7c3aed); color: white; }
        .card[data-category="tools"] .card-header { background: linear-gradient(135deg, var(--cat-tools), #0891b2); color: white; }
        .card-thumbnail { height: 80px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; background: var(--bg-glass); }
        .card-content { padding: 1.25rem; }
        .card-title { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.25rem; }
        .card-subtitle { font-size: 0.85rem; color: var(--accent-primary); margin-bottom: 0.75rem; }
        .card-description { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.5; margin-bottom: 0.75rem; }
        .card-insight { font-size: 0.85rem; color: var(--text-muted); font-style: italic; margin-bottom: 1rem; padding: 0.75rem; background: var(--bg-glass); border-radius: 8px; }
        .card-footer { display: flex; justify-content: space-between; align-items: center; }
        .card-badge { padding: 0.25rem 0.75rem; background: var(--bg-glass); border-radius: 20px; font-size: 0.75rem; color: var(--text-muted); }
        .card-link { padding: 0.5rem 1rem; background: var(--accent-primary); color: white; text-decoration: none; border-radius: 8px; font-size: 0.85rem; font-weight: 500; transition: all 0.3s; }
        .card-link:hover { background: var(--accent-secondary); }

        footer { background: var(--bg-secondary); backdrop-filter: blur(20px); border-radius: 24px; padding: 2rem; margin-top: 2rem; text-align: center; }
        .footer-title { font-size: 1.25rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem; }
        .footer-subtitle { color: var(--text-secondary); margin-bottom: 1rem; }
        .footer-meta { display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-muted); }

        /* Modal */
        .viz-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10000; }
        .viz-modal.active { display: flex; }
        .viz-modal .modal-content { width: 95%; height: 95%; margin: auto; background: #1e1e2e; border-radius: 16px; overflow: hidden; }
        .viz-modal .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 14px 24px; background: #2d2d4a; }
        .viz-modal .modal-title { font-size: 18px; font-weight: 600; color: white; }
        .viz-modal .close-btn { padding: 10px 20px; background: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .viz-modal .close-btn:hover { background: #dc2626; }
        .viz-modal .modal-body { width: 100%; height: calc(100% - 60px); background: white; display: flex; align-items: center; justify-content: center; overflow: auto; }
        .viz-modal iframe { width: 100%; height: 100%; border: none; }
        .viz-modal img { max-width: 100%; max-height: 100%; object-fit: contain; }

        @media (max-width: 768px) {
            .cards-grid { grid-template-columns: 1fr; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <div>
                    <h1>US Trade Data Visualization Suite</h1>
                    <p class="subtitle">Interactive Analysis of Trump-Era Tariff Pass-Through (Jan 2024 - Aug 2025)</p>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()">
                    <span id="themeIcon">Dark</span> Mode
                </button>
            </div>
            <div class="context-box">
                <h3>About This Analysis</h3>
                <p>This visualization suite examines US import prices and tariffs during the Trump administration tariff campaign (2024-2025). Data includes <strong>17 major tariff implementation events</strong> affecting multiple trading partners. The analysis covers monthly trends using <strong>6.9 million trade records</strong> from USITC.</p>
            </div>
        </header>

        <div class="tabs-container">
            <button class="tab-btn active" data-category="all" onclick="filterCards('all')">All</button>
            <button class="tab-btn" data-category="static" onclick="filterCards('static')">Static</button>
            <button class="tab-btn" data-category="timeseries" onclick="filterCards('timeseries')">Time Series</button>
            <button class="tab-btn" data-category="products" onclick="filterCards('products')">Products</button>
            <button class="tab-btn" data-category="geographic" onclick="filterCards('geographic')">Geographic</button>
            <button class="tab-btn" data-category="animations" onclick="filterCards('animations')">Animations</button>
            <button class="tab-btn" data-category="tools" onclick="filterCards('tools')">Tools</button>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search visualizations..." oninput="searchCards(this.value)">
        </div>

        <div class="cards-grid" id="cardsGrid">

            <div class="card" data-category="static" data-title="Monthly US Imports" data-description="Publication-ready time series showing total US imports from January 2024 to August 2025. Vertical dashed lines mark major Trump-era tariff implementation dates.">
                <div class="card-header">STATIC - #S1</div>
                <div class="card-thumbnail">[S]</div>
                <div class="card-content">
                    <div class="card-title">Monthly US Imports</div>
                    <div class="card-subtitle">Time Series with Event Markers</div>
                    <div class="card-description">Publication-ready time series showing total US imports from January 2024 to August 2025. Vertical dashed lines mark major Trump-era tariff implementation dates.</div>
                    <div class="card-insight">TIP: Import values show seasonal patterns with notable disruptions following major tariff announcements.</div>
                    <div class="card-footer">
                        <span class="card-badge">Time Series</span>
                        <a href="#" class="card-link" onclick="openInModal('../static/monthly_imports.png', 'Monthly US Imports', true); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="static" data-title="Top 30 HS Chapters" data-description="Horizontal bar chart ranking the top 30 HS chapters by total import value. Bar colors indicate average tariff rate.">
                <div class="card-header">STATIC - #S2</div>
                <div class="card-thumbnail">[S]</div>
                <div class="card-content">
                    <div class="card-title">Top 30 HS Chapters</div>
                    <div class="card-subtitle">Trade Volume by Category</div>
                    <div class="card-description">Horizontal bar chart ranking the top 30 HS chapters by total import value. Bar colors indicate average tariff rate.</div>
                    <div class="card-insight">TIP: Electronics (Chapter 85) and machinery (Chapter 84) dominate US imports by value.</div>
                    <div class="card-footer">
                        <span class="card-badge">Bar Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('../static/top_chapters.png', 'Top 30 HS Chapters', true); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="static" data-title="Top 30 Countries" data-description="Horizontal bar chart of the 30 largest US import partners by total trade value.">
                <div class="card-header">STATIC - #S3</div>
                <div class="card-thumbnail">[S]</div>
                <div class="card-content">
                    <div class="card-title">Top 30 Countries</div>
                    <div class="card-subtitle">Trade Partners by Value</div>
                    <div class="card-description">Horizontal bar chart of the 30 largest US import partners by total trade value.</div>
                    <div class="card-insight">TIP: China remains the largest source of US imports despite elevated tariff rates.</div>
                    <div class="card-footer">
                        <span class="card-badge">Bar Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('../static/top_countries.png', 'Top 30 Countries', true); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="timeseries" data-title="Monthly Imports Interactive" data-description="Interactive exploration of monthly US imports with dropdown to filter by country or HS chapter.">
                <div class="card-header">TIMESERIES - #01</div>
                <div class="card-thumbnail">[T]</div>
                <div class="card-content">
                    <div class="card-title">Monthly Imports Interactive</div>
                    <div class="card-subtitle">With Event Markers and Filtering</div>
                    <div class="card-description">Interactive exploration of monthly US imports with dropdown to filter by country or HS chapter.</div>
                    <div class="card-insight">TIP: Toggle between aggregate view and individual country/chapter trends to identify patterns.</div>
                    <div class="card-footer">
                        <span class="card-badge">Interactive Line Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('01_monthly_imports_interactive.html', 'Monthly Imports Interactive', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="timeseries" data-title="Tariff Rate Evolution" data-description="Four tariff rate metrics tracked over time: Overall rate, Dutiable rate, Section 61 (China), and Section 69 (Steel/Aluminum).">
                <div class="card-header">TIMESERIES - #02</div>
                <div class="card-thumbnail">[T]</div>
                <div class="card-content">
                    <div class="card-title">Tariff Rate Evolution</div>
                    <div class="card-subtitle">4-Rate Decomposition</div>
                    <div class="card-description">Four tariff rate metrics tracked over time: Overall rate, Dutiable rate, Section 61 (China), and Section 69 (Steel/Aluminum).</div>
                    <div class="card-insight">TIP: Section 61 and 69 rates show step increases aligned with tariff implementation dates.</div>
                    <div class="card-footer">
                        <span class="card-badge">Line Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('02_tariff_evolution_interactive.html', 'Tariff Rate Evolution', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="timeseries" data-title="Trade vs Tariff Scatter" data-description="Monthly scatter plot with trade value on X-axis and tariff rate on Y-axis.">
                <div class="card-header">TIMESERIES - #03</div>
                <div class="card-thumbnail">[T]</div>
                <div class="card-content">
                    <div class="card-title">Trade vs Tariff Scatter</div>
                    <div class="card-subtitle">Bubble Size = Tariffs Paid</div>
                    <div class="card-description">Monthly scatter plot with trade value on X-axis and tariff rate on Y-axis.</div>
                    <div class="card-insight">TIP: Larger bubbles indicate months with higher tariff revenue collection.</div>
                    <div class="card-footer">
                        <span class="card-badge">Bubble Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('03_trade_vs_tariff_scatter.html', 'Trade vs Tariff Scatter', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="timeseries" data-title="Countries Evolution" data-description="Line chart showing monthly import values for the top 20 trading partners.">
                <div class="card-header">TIMESERIES - #04</div>
                <div class="card-thumbnail">[T]</div>
                <div class="card-content">
                    <div class="card-title">Countries Evolution</div>
                    <div class="card-subtitle">Top 20 Partners Over Time</div>
                    <div class="card-description">Line chart showing monthly import values for the top 20 trading partners.</div>
                    <div class="card-insight">TIP: Watch how China's import share changes relative to other major partners.</div>
                    <div class="card-footer">
                        <span class="card-badge">Multi-Line Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('04_countries_evolution.html', 'Countries Evolution', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="timeseries" data-title="HS Chapters Stacked Area" data-description="Stacked area chart showing the composition of US imports by HS chapter over time.">
                <div class="card-header">TIMESERIES - #05</div>
                <div class="card-thumbnail">[T]</div>
                <div class="card-content">
                    <div class="card-title">HS Chapters Stacked Area</div>
                    <div class="card-subtitle">Market Share Over Time</div>
                    <div class="card-description">Stacked area chart showing the composition of US imports by HS chapter over time.</div>
                    <div class="card-insight">TIP: Market share shifts reveal which sectors gained or lost ground during the tariff period.</div>
                    <div class="card-footer">
                        <span class="card-badge">Stacked Area</span>
                        <a href="#" class="card-link" onclick="openInModal('05_chapters_stacked_area.html', 'HS Chapters Stacked Area', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="products" data-title="Trade-Tariff Scatter" data-description="Interactive scatter plot of the top 500 HS10 products. X-axis: cumulative trade value. Y-axis: average tariff rate. Color: HS chapter.">
                <div class="card-header">PRODUCTS - #06</div>
                <div class="card-thumbnail">[P]</div>
                <div class="card-content">
                    <div class="card-title">Trade-Tariff Scatter</div>
                    <div class="card-subtitle">500 Products by Volume and Rate</div>
                    <div class="card-description">Interactive scatter plot of the top 500 HS10 products. X-axis: cumulative trade value. Y-axis: average tariff rate. Color: HS chapter.</div>
                    <div class="card-insight">TIP: Identify high-value products with unusual tariff rates by exploring outliers.</div>
                    <div class="card-footer">
                        <span class="card-badge">Scatter Plot</span>
                        <a href="#" class="card-link" onclick="openInModal('06_trade_tariff_scatter.html', 'Trade-Tariff Scatter', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="products" data-title="Top Products Table" data-description="Interactive data table of the top 500 HS10 products with full descriptions, trade values, and tariff rates.">
                <div class="card-header">PRODUCTS - #07</div>
                <div class="card-thumbnail">[P]</div>
                <div class="card-content">
                    <div class="card-title">Top Products Table</div>
                    <div class="card-subtitle">Searchable HS10 Details</div>
                    <div class="card-description">Interactive data table of the top 500 HS10 products with full descriptions, trade values, and tariff rates.</div>
                    <div class="card-insight">TIP: Use the search box to find specific products.</div>
                    <div class="card-footer">
                        <span class="card-badge">Data Table</span>
                        <a href="#" class="card-link" onclick="openInModal('07_top_products_table.html', 'Top Products Table', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="products" data-title="Trade Concentration Lorenz" data-description="Lorenz curve showing the concentration of US trade value across products.">
                <div class="card-header">PRODUCTS - #08</div>
                <div class="card-thumbnail">[P]</div>
                <div class="card-content">
                    <div class="card-title">Trade Concentration Lorenz</div>
                    <div class="card-subtitle">Gini Coefficient Analysis</div>
                    <div class="card-description">Lorenz curve showing the concentration of US trade value across products.</div>
                    <div class="card-insight">TIP: A steep curve indicates high concentration - few products account for most trade.</div>
                    <div class="card-footer">
                        <span class="card-badge">Lorenz Curve</span>
                        <a href="#" class="card-link" onclick="openInModal('08_concentration_lorenz.html', 'Trade Concentration Lorenz', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="products" data-title="Tariff Distribution Violin" data-description="Violin plots showing the distribution of tariff rates within each major HS chapter.">
                <div class="card-header">PRODUCTS - #09</div>
                <div class="card-thumbnail">[P]</div>
                <div class="card-content">
                    <div class="card-title">Tariff Distribution Violin</div>
                    <div class="card-subtitle">By HS Chapter</div>
                    <div class="card-description">Violin plots showing the distribution of tariff rates within each major HS chapter.</div>
                    <div class="card-insight">TIP: Wide violins indicate high tariff variability within a chapter.</div>
                    <div class="card-footer">
                        <span class="card-badge">Violin Plot</span>
                        <a href="#" class="card-link" onclick="openInModal('09_tariff_distribution_violin.html', 'Tariff Distribution Violin', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="products" data-title="HS10 Product Treemap" data-description="Treemap visualization of the top 200 HS10 products, nested by HS chapter.">
                <div class="card-header">PRODUCTS - #14</div>
                <div class="card-thumbnail">[P]</div>
                <div class="card-content">
                    <div class="card-title">HS10 Product Treemap</div>
                    <div class="card-subtitle">200 Products Hierarchical View</div>
                    <div class="card-description">Treemap visualization of the top 200 HS10 products, nested by HS chapter.</div>
                    <div class="card-insight">TIP: Explore the hierarchical structure of trade by clicking into chapters.</div>
                    <div class="card-footer">
                        <span class="card-badge">Treemap</span>
                        <a href="#" class="card-link" onclick="openInModal('14_hs10_treemap.html', 'HS10 Product Treemap', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="geographic" data-title="Country Dashboard" data-description="Bubble chart of top 30 trading partners. X-axis: sea distance from US. Y-axis: average tariff rate. Bubble size: total trade value.">
                <div class="card-header">GEOGRAPHIC - #10</div>
                <div class="card-thumbnail">[G]</div>
                <div class="card-content">
                    <div class="card-title">Country Dashboard</div>
                    <div class="card-subtitle">Trade Partner Overview</div>
                    <div class="card-description">Bubble chart of top 30 trading partners. X-axis: sea distance from US. Y-axis: average tariff rate. Bubble size: total trade value.</div>
                    <div class="card-insight">TIP: Explore whether distance correlates with tariff treatment or trade volume.</div>
                    <div class="card-footer">
                        <span class="card-badge">Bubble Chart</span>
                        <a href="#" class="card-link" onclick="openInModal('10_country_dashboard.html', 'Country Dashboard', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="geographic" data-title="Distance Effect Analysis" data-description="Box plots comparing tariff rates for near vs. far trading partners.">
                <div class="card-header">GEOGRAPHIC - #11</div>
                <div class="card-thumbnail">[G]</div>
                <div class="card-content">
                    <div class="card-title">Distance Effect Analysis</div>
                    <div class="card-subtitle">Near vs Far Countries</div>
                    <div class="card-description">Box plots comparing tariff rates for near vs. far trading partners.</div>
                    <div class="card-insight">TIP: Test whether geographic proximity affects tariff treatment.</div>
                    <div class="card-footer">
                        <span class="card-badge">Box Plot</span>
                        <a href="#" class="card-link" onclick="openInModal('11_distance_effect.html', 'Distance Effect Analysis', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="geographic" data-title="Countries Heatmap" data-description="Heatmap showing monthly import values for the top 20 countries.">
                <div class="card-header">GEOGRAPHIC - #12</div>
                <div class="card-thumbnail">[G]</div>
                <div class="card-content">
                    <div class="card-title">Countries Heatmap</div>
                    <div class="card-subtitle">Monthly Trade Patterns</div>
                    <div class="card-description">Heatmap showing monthly import values for the top 20 countries.</div>
                    <div class="card-insight">TIP: Visual patterns reveal whether trade disruptions affected multiple countries simultaneously.</div>
                    <div class="card-footer">
                        <span class="card-badge">Heatmap</span>
                        <a href="#" class="card-link" onclick="openInModal('12_countries_heatmap.html', 'Countries Heatmap', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="geographic" data-title="Tariff by Country Origin" data-description="Overlapping histograms showing the distribution of monthly tariff rates for top 15 countries.">
                <div class="card-header">GEOGRAPHIC - #13</div>
                <div class="card-thumbnail">[G]</div>
                <div class="card-content">
                    <div class="card-title">Tariff by Country Origin</div>
                    <div class="card-subtitle">Distribution Histogram</div>
                    <div class="card-description">Overlapping histograms showing the distribution of monthly tariff rates for top 15 countries.</div>
                    <div class="card-insight">TIP: Some countries have consistent tariff rates while others show high variability.</div>
                    <div class="card-footer">
                        <span class="card-badge">Histogram</span>
                        <a href="#" class="card-link" onclick="openInModal('13_tariff_distribution_by_country.html', 'Tariff by Country Origin', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="animations" data-title="Trade-Tariff Animation" data-description="Animated scatter plot showing how the top 100 products evolve over time. Use Play button or drag slider.">
                <div class="card-header">ANIMATIONS - #15</div>
                <div class="card-thumbnail">[A]</div>
                <div class="card-content">
                    <div class="card-title">Trade-Tariff Animation</div>
                    <div class="card-subtitle">Top 100 Products Evolution</div>
                    <div class="card-description">Animated scatter plot showing how the top 100 products evolve over time. Use Play button or drag slider.</div>
                    <div class="card-insight">TIP: Watch products accumulate trade volume over time.</div>
                    <div class="card-footer">
                        <span class="card-badge">Animated Scatter</span>
                        <a href="#" class="card-link" onclick="openInModal('15_trade_tariff_animation.html', 'Trade-Tariff Animation', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="animations" data-title="Country Evolution Animation" data-description="Animated bubble chart tracking the top 50 trading partners from January 2024 to present. Features ISO country codes, continent colors, and audio effects.">
                <div class="card-header">ANIMATIONS - #16</div>
                <div class="card-thumbnail">[A]</div>
                <div class="card-content">
                    <div class="card-title">Country Evolution Animation</div>
                    <div class="card-subtitle">Top 50 Partners Over Time</div>
                    <div class="card-description">Animated bubble chart tracking the top 50 trading partners from January 2024 to present. Features ISO country codes, continent colors, and audio effects.</div>
                    <div class="card-insight">TIP: Observe how tariff rates spike for specific countries following tariff announcements.</div>
                    <div class="card-footer">
                        <span class="card-badge">Animated Scatter</span>
                        <a href="#" class="card-link" onclick="openInModal('16_country_evolution_animation.html', 'Country Evolution Animation', false); return false;">Open</a>
                    </div>
                </div>
            </div>
            <div class="card" data-category="tools" data-title="HS Code Lookup" data-description="Search and explore HS 10-digit product codes with full descriptions, chapter names, and section information.">
                <div class="card-header">TOOLS - #17</div>
                <div class="card-thumbnail">[X]</div>
                <div class="card-content">
                    <div class="card-title">HS Code Lookup</div>
                    <div class="card-subtitle">Interactive Code Search</div>
                    <div class="card-description">Search and explore HS 10-digit product codes with full descriptions, chapter names, and section information.</div>
                    <div class="card-insight">TIP: Use this tool to understand product classifications and find specific HS codes.</div>
                    <div class="card-footer">
                        <span class="card-badge">Interactive Tool</span>
                        <a href="#" class="card-link" onclick="openInModal('17_hs_code_lookup.html', 'HS Code Lookup', false); return false;">Open</a>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-title">US Trade Data Analysis</div>
            <div class="footer-subtitle">Interactive Visualization Suite</div>
            <div class="footer-meta">
                <span>Generated: January 12, 2026</span>
                <span>Data: USITC</span>
                <span>Visualizations: R (plotly, ggplot2)</span>
            </div>
        </footer>
    </div>

    <!-- Modal -->
    <div id="vizModal" class="viz-modal" onclick="if(event.target===this)closeModal()">
        <div class="modal-content">
            <div class="modal-header">
                <span id="modalTitle" class="modal-title">Visualization</span>
                <button onclick="closeModal()" class="close-btn">X Close</button>
            </div>
            <div id="modalBody" class="modal-body"></div>
        </div>
    </div>

    <script>
        function openInModal(url, title, isImage) {
            var modal = document.getElementById("vizModal");
            var body = document.getElementById("modalBody");
            var titleEl = document.getElementById("modalTitle");
            titleEl.textContent = title || "Visualization";
            if (isImage) {
                body.innerHTML = "<img src=\"" + url + "\" alt=\"" + title + "\">";
            } else {
                body.innerHTML = "<iframe src=\"" + url + "\" allowfullscreen></iframe>";
            }
            modal.classList.add("active");
            document.body.style.overflow = "hidden";
        }

        function closeModal() {
            var modal = document.getElementById("vizModal");
            document.getElementById("modalBody").innerHTML = "";
            modal.classList.remove("active");
            document.body.style.overflow = "";
        }

        document.addEventListener("keydown", function(e) { if (e.key === "Escape") closeModal(); });

        function toggleTheme() {
            var body = document.body;
            var icon = document.getElementById("themeIcon");
            if (body.getAttribute("data-theme") === "dark") {
                body.removeAttribute("data-theme");
                icon.textContent = "Dark";
                localStorage.setItem("theme", "light");
            } else {
                body.setAttribute("data-theme", "dark");
                icon.textContent = "Light";
                localStorage.setItem("theme", "dark");
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            var savedTheme = localStorage.getItem("theme");
            if (savedTheme === "dark") {
                document.body.setAttribute("data-theme", "dark");
                document.getElementById("themeIcon").textContent = "Light";
            }
        });

        function filterCards(category) {
            var cards = document.querySelectorAll(".card");
            var tabs = document.querySelectorAll(".tab-btn");
            tabs.forEach(function(tab) {
                tab.classList.remove("active");
                if (tab.getAttribute("data-category") === category) tab.classList.add("active");
            });
            cards.forEach(function(card) {
                if (category === "all" || card.getAttribute("data-category") === category) {
                    card.classList.remove("hidden");
                } else {
                    card.classList.add("hidden");
                }
            });
        }

        function searchCards(query) {
            var cards = document.querySelectorAll(".card");
            var lowerQuery = query.toLowerCase();
            cards.forEach(function(card) {
                var title = card.getAttribute("data-title").toLowerCase();
                var desc = card.getAttribute("data-description").toLowerCase();
                if (title.includes(lowerQuery) || desc.includes(lowerQuery)) {
                    card.classList.remove("hidden");
                } else {
                    card.classList.add("hidden");
                }
            });
        }
    </script>
</body>
</html>
